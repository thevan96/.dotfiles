# Set default terminal
set-option -g default-terminal 'screen-256color'
set -ga terminal-overrides ',*256col*:Tc'

# Change prefix
unbind C-b
set-option -g prefix `
bind-key -r i send-prefix
bind-key ` last-window

# active mouse and vi mode
set -g mouse on
set -g mode-keys vi
set -g focus-events on
set-option -g history-limit 100000

# set time inteval, no delay key press
set -g escape-time 0
set -g status-interval 1

# Config window
set-option -g renumber-windows on
set-option -g automatic-rename on

# reload
bind-key r source-file ~/.tmux.conf \; display-message 'Config reloaded...'

# vim mode: linux
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'V' send -X select-line
bind-key -T copy-mode-vi 'y' send -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

# vim mode: macos
# bind-key -T copy-mode-vi 'v' send -X begin-selection
# bind-key -T copy-mode-vi 'V' send -X select-line
# bind-key -T copy-mode-vi 'y' send -X copy-pipe-and-cancel 'reattach-to-user-namespace pbcopy'

# Split map
bind-key '"' split-window -v -c '#{pane_current_path}'
bind-key % split-window -h -c '#{pane_current_path}'
bind-key c new-window -c '#{pane_current_path}' -a
bind-key C new-window -c '#{pane_current_path}'

# Open folder current shell
# bind-key o run-shell 'open #{pane_current_path}' # Macos
bind-key o run-shell 'xdg-open #{pane_current_path}' # Linux

# Vim style pane selection
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# Swap window
bind-key -r P swap-window -t -1\; select-window -t -1
bind-key -r N swap-window -t +1\; select-window -t +1

# pane resizing
bind-key -r J resize-pane -D 3
bind-key -r K resize-pane -U 3
bind-key -r H resize-pane -L 3
bind-key -r L resize-pane -R 3

# Mapping tmux
bind-key Q kill-serve
bind-key S new-session
bind-key X kill-session

# Status color
set -g status-fg 'terminal'
set -g status-bg 'terminal'

# Make status line
set -g status-left '[#S] '
set -g status-right ' [#(ibus_tmux) %d/%m/%Y %H:%M:%S]'

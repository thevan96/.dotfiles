set -g default-terminal "screen-256color"
set -ga terminal-overrides ",*256col*:Tc"

# set starting window
set -g base-index 0
set-option -g renumber-windows on

# set time inteval
set -g status-interval 1
set-option -g allow-rename off

# reload
bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."

# remap prefix from 'C-b' to 'C-a'
set-option -g repeat-time 0
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# break panel to window
bind-key b break-pane -d

# Set vi mode
setw -g mode-keys vi
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

# Split map
bind-key s split-window -v  -c '#{pane_current_path}'
bind-key v split-window -h  -c '#{pane_current_path}'
bind-key c new-window -c '#{pane_current_path}'

# Vim style pane selection
bind-key -n M-h select-pane -L
bind-key -n M-l select-pane -R
bind-key -n M-k select-pane -U
bind-key -n M-j select-pane -D

# Cycle window
bind-key -n M-H previous-window
bind-key -n M-L next-window

# swap window
bind-key -n M-left swap-window -t -1
bind-key -n M-right swap-window -t +1

# pane resizing
bind -n C-down resize-pane -D 3
bind -n C-up resize-pane -U 3
bind -n C-left resize-pane -L 3
bind -n C-right resize-pane -R 3

# Open current directory
bind-key -r o run-shell "nautilus #{pane_current_path}"

# find session
bind-key -r f run-shell "tmux list-sessions -F \"##S\" | fzf-tmux | xargs tmux switch -t"

# swap panel
# prefix + {
# prefix + }

# active mouse
set -g mouse on
set -g focus-events on

# panes
setw -g pane-border-status top
set -g pane-border-format '─'
set -g pane-active-border-style fg='#98c379'
set -g pane-border-style fg='#4e94d3'

# Status color
set -g status-bg '#282c34'
set -g status-fg '#98c379'
setw -g window-status-current-style fg='#ce537a',bg='#282c34'

# Make text message
set-option -g message-style bg='#282c34',fg='#98c379';

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# Plugin user
set -g @plugin 'tmux-plugins/tmux-resurrect'

set -g @plugin 'tmux-plugins/tmux-sessionist'

set -g @plugin 'tmux-plugins/tmux-prefix-highlight'

set -g @plugin 'samoshkin/tmux-plugin-sysstat'

set -g @plugin 'tmux-plugins/tmux-yank'

set -g @plugin 'tmux-plugins/tmux-online-status'

set-option -g status-position top
set -g status-justify left
set -g status-right-length 100
set -g status-left-length 100
set -g status-left '[ #S ] ‎'
set -g status-right '[#{prefix_highlight} #{online_status} #{sysstat_cpu} #{sysstat_mem} #{sysstat_swap} %a/%d/%m/%Y %H:%M:%S ]'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'
